# 牛舎の柵簡易設計アプリケーション

CADの専門知識がなくても、牛舎用金属パイプ柵の図面を迅速かつ正確に作成できるデスクトップアプリケーションです。

## 特徴

- **直感的な操作**: マニュアル不要で5分で基本操作をマスター
- **テンプレート中心**: 標準的な柵構造から開始して効率的に設計
- **リアルタイムプレビュー**: パラメータ変更が即座に図面に反映
- **プロフェッショナル出力**: DXF/PDF形式で加工業者対応レベルの図面生成
- **オフライン動作**: インターネット接続不要のスタンドアロン設計

## システム要件

- Windows 10 (64bit) 以降
- メモリ 4GB以上（8GB推奨）
- ストレージ 100MB以上の空き容量
- 解像度 1366×768以上（1920×1080推奨）

## 開発・実行

### 前提条件
- Node.js 16以降
- npm または yarn

### セットアップ
```bash
cd cattle-fence-designer
npm install
```

### 開発モードで実行
```bash
npm run dev
```

### ビルド
```bash
npm run build
npm run electron-pack
```

## 使用方法

### 基本ワークフロー
1. **テンプレート選択**: 左パネルから標準テンプレートを選択
2. **パラメータ入力**: 全体幅、高さ、支柱間隔などを数値入力
3. **リアルタイム確認**: 中央の描画エリアで図面をプレビュー
4. **図面出力**: DXF/PDF形式で出力

### 主な機能

#### テンプレート
- 標準4段柵（最も一般的）
- 標準3段柵（低い柵用）
- ゲート付き5段柵（入口付き）

#### パラメータ
- **基本寸法**: 全体幅、高さ、根入れ深さ
- **構造**: 支柱間隔、桟の本数、最下段高
- **材料**: 支柱・桟のパイプ規格選択

#### 表示モード
- 平面図（上面図）
- 正面図
- 寸法線表示/非表示切り替え

#### ファイル操作
- プロジェクト保存/読み込み（.cfp形式）
- DXF出力（AutoCAD対応）
- PDF出力（現場確認用、A3サイズ）

## ディレクトリ構造

```
cattle-fence-designer/
├── public/
│   ├── electron.js          # Electronメインプロセス
│   └── index.html
├── src/
│   ├── components/          # Reactコンポーネント
│   │   ├── TemplateSelector.tsx
│   │   ├── ParameterInput.tsx
│   │   └── DrawingCanvas.tsx
│   ├── data/               # テンプレートデータ
│   │   └── templates.ts
│   ├── types/              # TypeScript型定義
│   │   └── index.ts
│   ├── utils/              # ユーティリティ
│   │   ├── dxfExport.ts
│   │   ├── pdfExport.ts
│   │   └── fileOperations.ts
│   ├── App.tsx             # メインアプリケーション
│   ├── App.css
│   └── index.tsx
├── package.json
└── tsconfig.json
```

## 技術スタック

- **フレームワーク**: Electron + React + TypeScript
- **UI**: HTML5 Canvas（図面描画）
- **出力**: jsPDF（PDF生成）、カスタムDXFライター
- **ビルド**: electron-builder

## 開発ロードマップ

### v1.0（現在）
- 基本的なテンプレートシステム
- パラメータ入力とリアルタイムプレビュー
- DXF/PDF出力機能

### v1.1（予定）
- 部材リスト（BOM）自動生成
- CSV出力機能

### v1.2（予定）
- ゲート・コーナー支柱テンプレート追加
- 角度指定機能

### v2.0（予定）
- 材料費概算見積もり機能
- 3Dプレビュー

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## サポート

問題やバグ報告は、GitHubのIssuesページでお報告ください。